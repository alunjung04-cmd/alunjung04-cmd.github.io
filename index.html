<!DOCTYPE html>

<html lang="ko">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>í™ì½© ì—¬í–‰ ì§€ë„</title>

    <style>

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }



        body {

            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

            background-color: #f5f5f5;

        }



        .header {

            background: rgb(238, 28, 37);

            color: white;

            padding: 30px 20px;

            text-align: center;

            box-shadow: 0 4px 6px rgba(0,0,0,0.1);

        }



        .header h1 {

            font-size: 2.5em;

            margin-bottom: 10px;

            font-weight: 700;

        }



        .header p {

            font-size: 1.2em;

            opacity: 0.9;

        }



        .container {

            display: flex;

            max-width: 1600px;

            margin: 30px auto;

            gap: 20px;

            padding: 0 20px;

        }



        .map-section {

            flex: 1;

            background: white;

            border-radius: 12px;

            overflow: hidden;

            box-shadow: 0 4px 12px rgba(0,0,0,0.1);

        }



        #map {

            width: 100%;

            height: 700px;

        }



        .sidebar {

            width: 400px;

            background: white;

            border-radius: 12px;

            padding: 25px;

            box-shadow: 0 4px 12px rgba(0,0,0,0.1);

            max-height: 700px;

            overflow-y: auto;

        }



        .sidebar h2 {

            font-size: 1.8em;

            margin-bottom: 20px;

            color: #333;

            border-bottom: 3px solid rgb(238, 28, 37);

            padding-bottom: 10px;

        }



        .add-location-form {

            margin-bottom: 30px;

            padding: 20px;

            background: #f8f9fa;

            border-radius: 8px;

        }



        .form-group {

            margin-bottom: 15px;

        }



        .form-group label {

            display: block;

            margin-bottom: 5px;

            font-weight: 600;

            color: #555;

        }



        .form-group input,

        .form-group select {

            width: 100%;

            padding: 10px;

            border: 2px solid #e0e0e0;

            border-radius: 6px;

            font-size: 14px;

            transition: border-color 0.3s;

        }



        .form-group input:focus,

        .form-group select:focus {

            outline: none;

            border-color: rgb(238, 28, 37);

        }



        .btn {

            width: 100%;

            padding: 12px;

            background: rgb(238, 28, 37);

            color: white;

            border: none;

            border-radius: 6px;

            font-size: 16px;

            font-weight: 600;

            cursor: pointer;

            transition: transform 0.2s, box-shadow 0.2s;

        }



        .btn:hover {

            transform: translateY(-2px);

            box-shadow: 0 6px 12px rgba(238, 28, 37, 0.3);

        }



        .location-list {

            list-style: none;

        }



        .location-item {

            padding: 15px;

            margin-bottom: 12px;

            background: #f8f9fa;

            border-radius: 8px;

            border-left: 4px solid #667eea;

            cursor: pointer;

            transition: all 0.3s;

            display: flex;

            justify-content: space-between;

            align-items: center;

        }



        .location-item:hover {

            background: #e9ecef;

            transform: translateX(5px);

            box-shadow: 0 3px 8px rgba(0,0,0,0.1);

        }



        .location-info {

            flex: 1;

        }



        .location-name {

            font-weight: 600;

            color: #333;

            margin-bottom: 5px;

            font-size: 1.1em;

        }



        .location-category {

            display: inline-block;

            padding: 3px 10px;

            background: #667eea;

            color: white;

            border-radius: 12px;

            font-size: 0.8em;

            margin-top: 5px;

        }



        .delete-btn {

            background: #dc3545;

            color: white;

            border: none;

            padding: 6px 12px;

            border-radius: 4px;

            cursor: pointer;

            font-size: 0.9em;

            transition: background 0.3s;

        }



        .delete-btn:hover {

            background: #c82333;

        }



        .category-colors {

            ê´€ê´‘ëª…ì†Œ: #667eea;

            ë ˆìŠ¤í† ë‘: #f093fb;

            ì‡¼í•‘: #4facfe;

            í˜¸í…”: #43e97b;

            ê¸°íƒ€: #fa709a;

        }



        @media (max-width: 1024px) {

            .container {

                flex-direction: column;

            }



            .sidebar {

                width: 100%;

                max-height: none;

            }

        }

    </style>

</head>

<body>

    <div class="header">

        <h1>ğŸ‡­ğŸ‡°í™ì½©ì§€ë„</h1>

        <p>ì´ê±° ì§„ì§œ ì‘ë™ í•˜ëŠ”ê±°ëƒ?</p>

    </div>



    <div class="container">

        <div class="map-section">

            <div id="map"></div>

        </div>



        <div class="sidebar">

            <h2>ì—¬í–‰ì§€ ì¶”ê°€</h2>

            

            <div class="add-location-form">

                <div class="form-group">

                    <label for="locationName">ì¥ì†Œëª…</label>

                    <input type="text" id="locationName" placeholder="ì˜ˆ: ë¹…í† ë¦¬ì•„ í”¼í¬">

                </div>

                

                <div class="form-group">

                    <label for="locationAddress">ì£¼ì†Œ ë˜ëŠ” ê²€ìƒ‰ì–´</label>

                    <input type="text" id="locationAddress" placeholder="ì˜ˆ: Victoria Peak, Hong Kong">

                </div>

                

                <div class="form-group">

                    <label for="locationCategory">ì¹´í…Œê³ ë¦¬</label>

                    <select id="locationCategory">

                        <option value="ê´€ê´‘ëª…ì†Œ">ê´€ê´‘ëª…ì†Œ</option>

                        <option value="ë ˆìŠ¤í† ë‘">ë ˆìŠ¤í† ë‘</option>

                        <option value="ì‡¼í•‘">ì‡¼í•‘</option>

                        <option value="í˜¸í…”">í˜¸í…”</option>

                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>

                    </select>

                </div>

                

                <button class="btn" onclick="addLocation()">ì¥ì†Œ ì¶”ê°€</button>

            </div>



            <h2>ì—¬í–‰ì§€ ëª©ë¡</h2>

            <ul class="location-list" id="locationList"></ul>

        </div>

    </div>



    <script>

        let map;

        let geocoder;

        let markers = [];

        let locations = [];



        // Google Maps ì´ˆê¸°í™”

        function initMap() {

            // í™ì½© ì¤‘ì‹¬ ì¢Œí‘œ

            const hongKong = { lat: 22.3193, lng: 114.1694 };

            

            map = new google.maps.Map(document.getElementById('map'), {

                zoom: 12,

                center: hongKong,

                mapTypeControl: true,

                streetViewControl: true,

                fullscreenControl: true,

                styles: [

                    {

                        featureType: "poi",

                        elementType: "labels",

                        stylers: [{ visibility: "on" }]

                    }

                ]

            });



            geocoder = new google.maps.Geocoder();



            // ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€

            addSampleLocations();

        }



        // ìƒ˜í”Œ ë°ì´í„°

        function addSampleLocations() {

            const samples = [

                { name: 'ë¹…í† ë¦¬ì•„ í”¼í¬', address: 'Victoria Peak, Hong Kong', category: 'ê´€ê´‘ëª…ì†Œ' },

                { name: 'ì‹¬í¬ë‹ˆ ì˜¤ë¸Œ ë¼ì´íŠ¸', address: 'Tsim Sha Tsui Promenade, Hong Kong', category: 'ê´€ê´‘ëª…ì†Œ' },

                { name: 'ì¹¨ì‚¬ì¶”ì´', address: 'Tsim Sha Tsui, Hong Kong', category: 'ì‡¼í•‘' }

            ];



            samples.forEach(location => {

                geocodeAndAddLocation(location.name, location.address, location.category);

            });

        }



        // ì£¼ì†Œë¥¼ ì¢Œí‘œë¡œ ë³€í™˜í•˜ê³  ë§ˆì»¤ ì¶”ê°€

        function geocodeAndAddLocation(name, address, category) {

            geocoder.geocode({ address: address }, (results, status) => {

                if (status === 'OK') {

                    const position = results[0].geometry.location;

                    

                    const location = {

                        name: name,

                        address: address,

                        category: category,

                        position: { lat: position.lat(), lng: position.lng() }

                    };



                    locations.push(location);

                    addMarker(location);

                    updateLocationList();

                } else {

                    alert('ì£¼ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ' + status);

                }

            });

        }



        // ë§ˆì»¤ ì¶”ê°€

        function addMarker(location) {

            const categoryColors = {

                'ê´€ê´‘ëª…ì†Œ': '#667eea',

                'ë ˆìŠ¤í† ë‘': '#f093fb',

                'ì‡¼í•‘': '#4facfe',

                'í˜¸í…”': '#43e97b',

                'ê¸°íƒ€': '#fa709a'

            };



            const marker = new google.maps.Marker({

                position: location.position,

                map: map,

                title: location.name,

                animation: google.maps.Animation.DROP,

                icon: {

                    path: google.maps.SymbolPath.CIRCLE,

                    scale: 10,

                    fillColor: categoryColors[location.category],

                    fillOpacity: 1,

                    strokeColor: '#ffffff',

                    strokeWeight: 2

                }

            });



            const infoWindow = new google.maps.InfoWindow({

                content: `

                    <div style="padding: 10px;">

                        <h3 style="margin: 0 0 5px 0; color: #333;">${location.name}</h3>

                        <p style="margin: 0; color: #666; font-size: 0.9em;">${location.category}</p>

                        <p style="margin: 5px 0 0 0; color: #999; font-size: 0.85em;">${location.address}</p>

                    </div>

                `

            });



            marker.addListener('click', () => {

                infoWindow.open(map, marker);

            });



            markers.push(marker);

        }



        // ì¥ì†Œ ì¶”ê°€ í•¨ìˆ˜

        function addLocation() {

            const name = document.getElementById('locationName').value.trim();

            const address = document.getElementById('locationAddress').value.trim();

            const category = document.getElementById('locationCategory').value;



            if (!name || !address) {

                alert('ì¥ì†Œëª…ê³¼ ì£¼ì†Œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');

                return;

            }



            geocodeAndAddLocation(name, address, category);



            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”

            document.getElementById('locationName').value = '';

            document.getElementById('locationAddress').value = '';

        }



        // ëª©ë¡ ì—…ë°ì´íŠ¸

        function updateLocationList() {

            const list = document.getElementById('locationList');

            list.innerHTML = '';



            locations.forEach((location, index) => {

                const li = document.createElement('li');

                li.className = 'location-item';

                li.innerHTML = `

                    <div class="location-info">

                        <div class="location-name">${location.name}</div>

                        <span class="location-category">${location.category}</span>

                    </div>

                    <button class="delete-btn" onclick="deleteLocation(${index})">ì‚­ì œ</button>

                `;

                

                li.addEventListener('click', (e) => {

                    if (!e.target.classList.contains('delete-btn')) {

                        map.setCenter(location.position);

                        map.setZoom(15);

                        google.maps.event.trigger(markers[index], 'click');

                    }

                });



                list.appendChild(li);

            });

        }



        // ì¥ì†Œ ì‚­ì œ

        function deleteLocation(index) {

            if (confirm('ì´ ì¥ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {

                markers[index].setMap(null);

                markers.splice(index, 1);

                locations.splice(index, 1);

                updateLocationList();

            }

        }



        // Enter í‚¤ë¡œ ì¥ì†Œ ì¶”ê°€

        document.addEventListener('DOMContentLoaded', () => {

            document.getElementById('locationAddress').addEventListener('keypress', (e) => {

                if (e.key === 'Enter') {

                    addLocation();

                }

            });

        });

    </script>



    <!-- Google Maps API -->

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDaR4ruLJ7CSloiWWEwlPomQv9vtBDTlB8&callback=initMap&language=ko" async defer></script>

</body>

</html>